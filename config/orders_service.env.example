# Orders service environment configuration
# Generated from scripts/generate_orders_env.py
#
# Copy this file to `.env.orders` (或类似路径) 并根据部署环境调整变量。
# 服务在启动时会读取这些变量。详见 docs/ib_service_client_template.md
# 与 docs/ib_connection_manager.md 获取更多配置说明。

# FastAPI metadata
ORDERS_APP_NAME="Orders Service"
ORDERS_APP_VERSION="0.1.0"
ORDERS_APP_DEBUG=false
ORDERS_DOCS_URL="/docs"
ORDERS_REDOC_URL="/docs"
ORDERS_OPENAPI_URL="/openapi.json"

# Request correlation
ORDERS_REQUEST_ID_HEADER="X-Request-ID"

# Redis publish/subscribe channels
ORDERS_REDIS_CHANNEL_PREFIX=""
ORDERS_REDIS_STATUS_CHANNEL="orders.status"
ORDERS_REDIS_FILL_CHANNEL="orders.fill"

# Default order parameters
ORDERS_DEFAULT_STOCK_EXCHANGE="SMART"
ORDERS_DEFAULT_STOCK_CURRENCY="USD"
ORDERS_DEFAULT_FUTURE_EXCHANGE="CME"
ORDERS_DEFAULT_FUTURE_CURRENCY="USD"
ORDERS_DEFAULT_TIF="DAY"

# Event publishing
ORDERS_ENABLE_STATUS_EVENTS=true
ORDERS_ENABLE_FILL_EVENTS=true

# Service discovery registration
ORDERS_SERVICE_REGISTRY_ENABLED=true
ORDERS_SERVICE_REGISTRY_NAME="orders"
ORDERS_SERVICE_REGISTRY_SCHEME="http"
ORDERS_SERVICE_REGISTRY_HOST="127.0.0.1"
ORDERS_SERVICE_REGISTRY_PORT=8101
ORDERS_SERVICE_REGISTRY_URL=""
ORDERS_SERVICE_REGISTRY_KEY="services:registry"
ORDERS_SERVICE_REGISTRY_HEARTBEAT=30.0
ORDERS_SERVICE_REGISTRY_REGISTRATION_ATTEMPTS=10
ORDERS_SERVICE_REGISTRY_RESTART_MODE=""
ORDERS_SERVICE_REGISTRY_DOCKER_CONTAINER=""
ORDERS_SERVICE_REGISTRY_DOCKER_HOST=""

# Automatic IB client setup (1 to enable, 0 to disable)
ORDERS_AUTO_CONFIGURE_IB=1

# Logging configuration
LOG_DIR=logs
LOG_LEVEL=INFO
LOG_STREAM=true

# Shared directories
DATA_DIR=data

# Redis connection URL
REDIS_URL=redis://127.0.0.1:6379/0

# MariaDB connection (inherits values from the root `.env`)
MARIADB_URL=mariadb://app_user:change_me@127.0.0.1:3306/algo_trader

# IB Gateway connection (see docs/ib_connection_manager.md for details)
IB_GATEWAY_HOST=127.0.0.1
IB_GATEWAY_PORT=4002
IB_CLIENT_ID=40
IB_CONNECT_TIMEOUT=15.0
IB_READ_ONLY=false
IB_ACCOUNT=""
IB_MARKET_DATA_DEPTH_ROWS=10
IB_MARKET_DATA_QUEUE_SIZE=64
IB_GATEWAY_HISTORICAL_TIMEOUT=45.0