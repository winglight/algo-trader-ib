# Core application settings
APP_ENV=development
APP_NAME="Algo Trader Backend"
APP_VERSION=0.1.0
APP_DEBUG=false
APP_CORS_ENABLED=true
APP_CORS_ALLOW_ORIGINS=*
APP_CORS_ALLOW_METHODS=*
APP_CORS_ALLOW_HEADERS=*
APP_SERVICE_OPENAPI_ENDPOINTS=
APP_SERVICE_OPENAPI_AUTH_HEADER_NAME=
APP_SERVICE_OPENAPI_AUTH_HEADER_VALUE=
LOG_LEVEL=INFO
LOG_DIR=logs
LOG_STREAM=true
DATA_DIR=data

# IB Gateway connectivity
IB_GATEWAY_HOST=127.0.0.1
IB_GATEWAY_PORT=4002
IB_CLIENT_ID=1

# Redis configuration
# Use ``rediss://`` to enable TLS-secured connections when required.
REDIS_URL=redis://:change_me@redis:6379/0
# Service discovery
SERVICE_DISCOVERY_ENABLED=true
SERVICE_DISCOVERY_REGISTRY_KEY=services:registry
# Optional: advertise shared environment defaults via the service registry.
SERVICE_REGISTRY_SHARED_SETTINGS_NAME=
# SERVICE_REGISTRY_SHARED_SETTINGS_KEY=services:registry
# SERVICE_REGISTRY_SHARED_SETTINGS_TIMEOUT=2.0

# Backfill configuration
BACKFILL_QUEUE_NAME=backfill

# MariaDB configuration
MARIADB_URL=mariadb://algo_trader:change_me@127.0.0.1:3306/algo_trader
MARIADB_POOL_SIZE=10
MARIADB_MAX_OVERFLOW=5
MARIADB_POOL_RECYCLE=1800
MARIADB_RETRY_ATTEMPTS=3
MARIADB_RETRY_BASE_DELAY=0.2

# Feature flags
ENABLE_NOTIFICATIONS=true
ENABLE_WEBSOCKET_PUSH=true

# Risk management defaults
STOP_LOSS_RATIO=0.05
TAKE_PROFIT_RATIO=0.05
PRICE_THRESHOLD=0.02
ENABLE_TRAILING_SL_TP=true
LEVERAGE_INDEX_DEFAULT=20
LEVERAGE_INDEX_MICRO_DEFAULT=20
LEVERAGE_ES=20
LEVERAGE_MES=20
LEVERAGE_NQ=20
LEVERAGE_MNQ=20
LEVERAGE_YM=20
LEVERAGE_MYM=20
LEVERAGE_RTY=20
LEVERAGE_M2K=20
LEVERAGE_VX=10
CB_DAILY_R=3.0
CB_STREAK=3
RISK_PER_TRADE_R=0.005
RV_REF_VALUE=1.0
RV_REF_METHOD=static
VOL_WINDOW=20
DD_STEP=0.05
DD_MAX_STEPS=4
DD_SCALE=0.5
CONTRACT_ROUNDING=floor

# Queue defaults
QUEUE_VISIBILITY_TIMEOUT=30
QUEUE_MAX_ATTEMPTS=5
QUEUE_BASE_DELAY=0.5
QUEUE_BACKOFF_MULTIPLIER=2.0
QUEUE_MAX_DELAY=30

ALLOW_ANONYMOUS_ACCESS=true
